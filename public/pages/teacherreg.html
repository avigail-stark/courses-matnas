<!DOCTYPE html>
<html lang="he" dir="rtl">
<!-- register teacher -->

<head>
    <title>רישום מרצה</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/style/stylepro.css" />
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
</head>


<body class="gofan">



    <form action="/secretary" class="formRegister">
        <table>

            <tr>
                <td colspan="3"><img src="/pic/logo.jpg" class="logoRegister" alt="logo"></td>
            </tr>
            <tr> </tr>
            <tr>
                <td colspan="3" class="formHeader">
                    טופס רישום מרצה
                </td>
            </tr>
            <tr></tr>
            <tr>
                <td colspan="3" class="formInstraction">
                    אנא מלא/י את הפרטים הבאים
                </td>
            </tr>
            <tr>
                <td>שם פרטי</td>
                <td><input type="text" name="firstName" id="firstName" required></td>
            </tr>
            <tr></tr>
            <tr>
                <td>שם משפחה</td>
                <td><input type="text" name="lastName" id="lastName" required></td>
            </tr>
            <tr></tr>
            <tr>
                <td> שם משתמש</td>
                <td><input type="userName" name="userName" id="userName" required></td>
            </tr>
            <tr></tr>
            <tr>
                <td> סיסמא</td>
                <td><input type="password" name="password" id="password" minlength="5" maxlength="16" required></td>
            </tr>
            <tr></tr>
            <tr>
                <td>תעודת זהות</td>
                <td><input type="number" name="id" id="id" required></td>
            </tr>
            <tr></tr>
            <tr>
                <td>פלאפון</td>
                <td><input type="text" name="cellphone" id="cellphone" required></td>
            </tr>
            <tr></tr>
            <tr>
                <td>טלפון</td>
                <td><input type="text" name="phone" id="phone"></td>
            </tr>
            <tr></tr>
            <tr>
                <td>רחוב</td>
                <td><input type="text" name="st" id="st"></td>
            </tr>
            <tr></tr>
            <tr>
                <td>מס' בית</td>
                <td><input type="text" name="houseNo" id="houseNo"></td>
            </tr>
            <tr></tr>
            <tr>
                <td>עיר</td>
                <td><input type="text" name="city" id="city"></td>
            </tr>
            <tr></tr>
            <tr>
                <td> Email</td>
                <td><input type="email" name="email" id="email" required></td>
            </tr>
            <tr></tr>

            <tr>
                <td>תאריך תחילת עבודה</td>
                <td><input type="date" name="startWorkDate" id="startWorkDate" required></td>
            </tr>
            <tr> </tr>
            <tr></tr>
            <tr>
                <td colspan="3"><input type="submit" value="שמור" id="submit" class="buttonLogin"></td>
            </tr>
            <tr></tr>

        </table>
    </form>
</body>
<!-- מעביר פירטי מרצה לסרבר -->
<script>
    // listen to click event of the submit button
    $('#submit').click(function (e) {
        // make sure the form is not submitted
        e.preventDefault();
        // run the form validations
        document.getElementsByClassName('formRegister')[0].checkValidity();
        // check if the form is valid
        if (document.getElementsByClassName('formRegister')[0].reportValidity()) {
            // form is valid, create a post request
            $.ajax({
                type: "post",
                url: "registration/register",
                // the user data 
                data: {
                    firstName: $('#firstName').val(),
                    lastName: $('#lastName').val(),
                    userName: $('#userName').val(),
                    password: $('#password').val(),
                    id: $('#id').val(),
                    cellphone: $('#cellphone').val(),
                    phone: $('#phone').val(),
                    st: $('#st').val(),
                    houseNo: $('#houseNo').val(),
                    city: $('#city').val(),
                    email: $('#email').val(),
                    startWorkDate: $('#startWorkDate').val(),

                },
                complete: // this function will run if the request is successful
                    function (xhr, status) {

                        // check if there is an error
                        if (status === 'error') {
                            alert(xhr.responseText);
                        } else {
                            alert(xhr.responseText);
                        }
                    }
            });
        }
    });
</script>

</html>